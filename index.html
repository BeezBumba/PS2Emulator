<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <link rel="icon" href="/favicon.ico"/>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,orientation=landscape"/>
    <meta name="theme-color" content="#000000"/>
    <meta name="description" content="A PlayStation2 emulator for web browsers"/>
    <link rel="apple-touch-icon" href="/play-192.png"/>
    <link rel="manifest" href="/manifest.json"/>
    <title>Play!</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        width: 100vw;
        height: 100vh;
        background: #000;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      #root {
        position: absolute;
        top: 16px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 2;
      }
      #outputCanvas {
        background: #000;
        display: block;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <canvas id="outputCanvas" tabindex="-1"></canvas>

    <script src="/static/js/main.caabe80b.js"></script>
    <script src="/register.js"></script>

    <script>
      const canvas = document.getElementById("outputCanvas");

      function resizeCanvas() {
        const vw = window.innerWidth;
        const vh = window.innerHeight;
        const aspect = 16 / 9;

        let width = vw;
        let height = Math.floor(width / aspect);

        if (height > vh) {
          height = vh;
          width = Math.floor(height * aspect);
        }

        // Apply CSS size
        canvas.style.width = width + "px";
        canvas.style.height = height + "px";

        // Match internal buffer
        canvas.width = width;
        canvas.height = height;
      }

      window.addEventListener("resize", resizeCanvas);
      resizeCanvas();
    </script>
  </body>
</html>
